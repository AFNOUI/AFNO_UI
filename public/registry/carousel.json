{
  "name": "carousel",
  "dependencies": [
    "embla-carousel-react",
    "lucide-react"
  ],
  "devDependencies": [],
  "registryDependencies": [
    "utils",
    "button"
  ],
  "files": [
    {
      "path": "components/ui/carousel.tsx",
      "type": "registry:component",
      "content": "import * as React from \"react\";\nimport { ArrowLeft, ArrowRight } from \"lucide-react\";\nimport useEmblaCarousel, { type UseEmblaCarouselType } from \"embla-carousel-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nimport { Button } from \"@/components/ui/button\";\n\ntype CarouselApi = UseEmblaCarouselType[1];\ntype CarouselPlugin = UseCarouselParameters[1];\ntype CarouselOptions = UseCarouselParameters[0];\ntype UseCarouselParameters = Parameters<typeof useEmblaCarousel>;\n\ntype CarouselProps = {\n  opts?: CarouselOptions;\n  plugins?: CarouselPlugin;\n  setApi?: (api: CarouselApi) => void;\n  orientation?: \"horizontal\" | \"vertical\";\n};\n\ntype CarouselContextProps = {\n  selectedIndex: number;\n  scrollPrev: () => void;\n  scrollNext: () => void;\n  canScrollPrev: boolean;\n  canScrollNext: boolean;\n  scrollSnapCount: number;\n  scrollTo: (index: number) => void;\n  api: ReturnType<typeof useEmblaCarousel>[1];\n  carouselRef: ReturnType<typeof useEmblaCarousel>[0];\n} & CarouselProps;\n\nconst CarouselContext = React.createContext<CarouselContextProps | null>(null);\n\nfunction useCarousel() {\n  const context = React.useContext(CarouselContext);\n\n  if (!context) {\n    throw new Error(\"useCarousel must be used within a <Carousel />\");\n  }\n\n  return context;\n}\n\nconst Carousel = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement> & CarouselProps>(\n  ({ orientation = \"horizontal\", opts, setApi, plugins, className, children, ...props }, ref) => {\n    const [carouselRef, api] = useEmblaCarousel(\n      {\n        ...opts,\n        axis: orientation === \"horizontal\" ? \"x\" : \"y\",\n      },\n      plugins,\n    );\n    const [selectedIndex, setSelectedIndex] = React.useState(0);\n    const [canScrollPrev, setCanScrollPrev] = React.useState(false);\n    const [canScrollNext, setCanScrollNext] = React.useState(false);\n    const [scrollSnapCount, setScrollSnapCount] = React.useState(0);\n\n    const onSelect = React.useCallback((api: CarouselApi) => {\n      if (!api) {\n        return;\n      }\n\n      setCanScrollPrev(api.canScrollPrev());\n      setCanScrollNext(api.canScrollNext());\n      setSelectedIndex(api.selectedScrollSnap());\n    }, []);\n\n    const scrollPrev = React.useCallback(() => {\n      api?.scrollPrev();\n    }, [api]);\n\n    const scrollNext = React.useCallback(() => {\n      api?.scrollNext();\n    }, [api]);\n\n    const scrollTo = React.useCallback((index: number) => {\n      api?.scrollTo(index);\n    }, [api]);\n\n    const handleKeyDown = React.useCallback(\n      (event: React.KeyboardEvent<HTMLDivElement>) => {\n        if (event.key === \"ArrowLeft\") {\n          event.preventDefault();\n          scrollPrev();\n        } else if (event.key === \"ArrowRight\") {\n          event.preventDefault();\n          scrollNext();\n        }\n      },\n      [scrollPrev, scrollNext],\n    );\n\n    React.useEffect(() => {\n      if (!api || !setApi) {\n        return;\n      }\n\n      setApi(api);\n    }, [api, setApi]);\n\n    React.useEffect(() => {\n      if (!api) {\n        return;\n      }\n\n      setScrollSnapCount(api.scrollSnapList().length);\n      onSelect(api);\n      api.on(\"reInit\", onSelect);\n      api.on(\"select\", onSelect);\n\n      return () => {\n        api?.off(\"select\", onSelect);\n      };\n    }, [api, onSelect]);\n\n    return (\n      <CarouselContext.Provider\n        value={{\n          opts,\n          api: api,\n          scrollTo,\n          scrollPrev,\n          scrollNext,\n          carouselRef,\n          canScrollPrev,\n          canScrollNext,\n          selectedIndex,\n          scrollSnapCount,\n          orientation: orientation || (opts?.axis === \"y\" ? \"vertical\" : \"horizontal\"),\n        }}\n      >\n        <div\n          ref={ref}\n          onKeyDownCapture={handleKeyDown}\n          className={cn(\"relative\", className)}\n          role=\"region\"\n          aria-roledescription=\"carousel\"\n          {...props}\n        >\n          {children}\n        </div>\n      </CarouselContext.Provider>\n    );\n  },\n);\nCarousel.displayName = \"Carousel\";\n\nconst CarouselContent = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => {\n    const { carouselRef, orientation } = useCarousel();\n\n    return (\n      <div ref={carouselRef} className=\"overflow-hidden\">\n        <div\n          ref={ref}\n          className={cn(\"flex\", orientation === \"horizontal\" ? \"-ml-4\" : \"-mt-4 flex-col\", className)}\n          {...props}\n        />\n      </div>\n    );\n  },\n);\nCarouselContent.displayName = \"CarouselContent\";\n\nconst CarouselItem = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => {\n    const { orientation } = useCarousel();\n\n    return (\n      <div\n        ref={ref}\n        role=\"group\"\n        aria-roledescription=\"slide\"\n        className={cn(\"min-w-0 shrink-0 grow-0 basis-full\", orientation === \"horizontal\" ? \"pl-4\" : \"pt-4\", className)}\n        {...props}\n      />\n    );\n  },\n);\nCarouselItem.displayName = \"CarouselItem\";\n\nconst CarouselPrevious = React.forwardRef<HTMLButtonElement, React.ComponentProps<typeof Button>>(\n  ({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n    const { orientation, scrollPrev, canScrollPrev } = useCarousel();\n\n    return (\n      <Button\n        ref={ref}\n        variant={variant}\n        size={size}\n        className={cn(\n          \"absolute h-8 w-8 rounded-full z-10\",\n          orientation === \"horizontal\"\n            ? \"left-2 top-1/2 -translate-y-1/2\"\n            : \"top-2 left-1/2 -translate-x-1/2 rotate-90\",\n          className,\n        )}\n        disabled={!canScrollPrev}\n        onClick={scrollPrev}\n        {...props}\n      >\n        <ArrowLeft className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Previous slide</span>\n      </Button>\n    );\n  },\n);\nCarouselPrevious.displayName = \"CarouselPrevious\";\n\nconst CarouselNext = React.forwardRef<HTMLButtonElement, React.ComponentProps<typeof Button>>(\n  ({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n    const { orientation, scrollNext, canScrollNext } = useCarousel();\n\n    return (\n      <Button\n        ref={ref}\n        variant={variant}\n        size={size}\n        className={cn(\n          \"absolute h-8 w-8 rounded-full z-10\",\n          orientation === \"horizontal\"\n            ? \"right-2 top-1/2 -translate-y-1/2\"\n            : \"bottom-2 left-1/2 -translate-x-1/2 rotate-90\",\n          className,\n        )}\n        disabled={!canScrollNext}\n        onClick={scrollNext}\n        {...props}\n      >\n        <ArrowRight className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Next slide</span>\n      </Button>\n    );\n  },\n);\nCarouselNext.displayName = \"CarouselNext\";\n\nconst CarouselDots = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => {\n    const { selectedIndex, scrollSnapCount, scrollTo } = useCarousel();\n\n    if (scrollSnapCount <= 1) return null;\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\"flex justify-center gap-2 mt-4\", className)}\n        {...props}\n      >\n        {Array.from({ length: scrollSnapCount }).map((_, index) => (\n          <button\n            key={index}\n            type=\"button\"\n            className={cn(\n              \"h-2 w-2 rounded-full transition-all duration-200\",\n              selectedIndex === index\n                ? \"bg-primary w-4\"\n                : \"bg-muted-foreground/30 hover:bg-muted-foreground/50\"\n            )}\n            onClick={() => scrollTo(index)}\n            aria-label={`Go to slide ${index + 1}`}\n          />\n        ))}\n      </div>\n    );\n  },\n);\nCarouselDots.displayName = \"CarouselDots\";\n\nexport {\n  type CarouselApi,\n  Carousel,\n  useCarousel,\n  CarouselNext,\n  CarouselDots,\n  CarouselItem,\n  CarouselContent,\n  CarouselPrevious,\n};\n\n// /* Add these to your global CSS file (e.g., globals.css) */\n// @layer base {\n//   :root {\n//     /* --- Colors --- */\n//     --primary: ...;\n//     --muted-foreground: ...;\n\n//     /* --- Spacing --- */\n//     /* Note: Component uses internal 1rem (4 units) gaps for overflow management */\n//   }\n// }\n"
    }
  ]
}